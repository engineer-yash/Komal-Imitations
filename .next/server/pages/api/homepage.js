"use strict";(()=>{var e={};e.id=674,e.ids=[674],e.modules={9344:e=>{e.exports=require("jsonwebtoken")},1185:e=>{e.exports=require("mongoose")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},7942:(e,t,n)=>{n.r(t),n.d(t,{config:()=>g,default:()=>h,routeModule:()=>b});var r={};n.r(r),n.d(r,{default:()=>f});var o=n(1802),a=n(7153),i=n(6249),s=n(2549),l=n(1185),u=n.n(l);let d=new(u()).Schema({heroTitle:String,heroSubtitle:String,heroImage:String,aboutTitle:String,aboutText:String,aboutImage:String},{timestamps:!0}),c=u().models.HomePage||u().model("HomePage",d);var m=n(6044);async function p(e,t){if(await (0,s.Z)(),"GET"===e.method)try{let e=await c.findOne({});return e||(e=await c.create({heroTitle:"Timeless Elegance, Everyday Luxury",heroSubtitle:"Discover exquisite imitation jewellery that captures the essence of tradition with modern craftsmanship",heroImage:"https://images.unsplash.com/photo-1737515046830-1680d82e043c?crop=entropy&cs=srgb&fm=jpg&ixid=M3w4NjA1ODR8MHwxfHNlYXJjaHwzfHxpbmRpYW4lMjBtb2RlbCUyMHdlYXJpbmclMjBoZWF2eSUyMGdvbGQlMjBqZXdlbGxlcnklMjBwb3J0cmFpdCUyMGx1eHVyeXxlbnwwfHx8fDE3Njk2ODQ1MTR8MA&ixlib=rb-4.1.0&q=85",aboutTitle:"Crafted with Passion in Pune",aboutText:"Located in the heart of Raviwar Peth, Pune, Komal Imitation Jewellery has been serving customers with beautiful, affordable jewellery since our inception. Our collection blends traditional designs with contemporary styles, perfect for weddings, festivals, and everyday elegance.",aboutImage:"https://images.unsplash.com/photo-1744196988043-78466f6ed98a?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1ODF8MHwxfHNlYXJjaHwyfHxpbmRpYW4lMjBqZXdlbGxlcnklMjBjcmFmdHNtYW4lMjB3b3JraW5nJTIwY2xvc2UlMjB1cHxlbnwwfHx8fDE3Njk2ODQ1Mzl8MA&ixlib=rb-4.1.0&q=85"})),t.status(200).json(e)}catch(e){return t.status(500).json({message:e.message})}if("PUT"===e.method)try{let n=await c.findOne({});return n=n?await c.findByIdAndUpdate(n._id,e.body,{new:!0}):await c.create(e.body),t.status(200).json(n)}catch(e){return t.status(500).json({message:e.message})}return t.status(405).json({message:"Method not allowed"})}function f(e,t){return"GET"===e.method?p(e,t):(0,m.l)(p)(e,t)}let h=(0,i.l)(r,"default"),g=(0,i.l)(r,"config"),b=new o.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/homepage",pathname:"/api/homepage",bundlePath:"",filename:""},userland:r})},6044:(e,t,n)=>{n.d(t,{l:()=>i});var r=n(9344),o=n.n(r);let a=e=>{try{return o().verify(e,process.env.JWT_SECRET)}catch(e){return null}},i=e=>async(t,n)=>{let r=t.headers.authorization?.split(" ")[1];if(!r)return n.status(401).json({message:"No token provided"});let o=a(r);return o?(t.user=o,e(t,n)):n.status(401).json({message:"Invalid token"})}},2549:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(1185),o=n.n(r);let a=process.env.MONGODB_URI;if(!a)throw Error("Please define the MONGODB_URI environment variable");let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let s=async function(){if(i.conn)return i.conn;i.promise||(i.promise=o().connect(a,{bufferCommands:!1}).then(e=>e));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}},7153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},1802:(e,t,n)=>{e.exports=n(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var n=t(t.s=7942);module.exports=n})();