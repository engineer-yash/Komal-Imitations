(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{2833:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(7639)}])},7639:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var t=a(5893),l=a(7294),r=a(1163),n=a(1664),i=a.n(n),o=a(9008),d=a.n(o),c=a(7066);function m(){let e=(0,r.useRouter)(),[s,a]=(0,l.useState)({products:0,categories:0,messages:0,catalogs:0}),[n,o]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(!localStorage.getItem("token")){e.push("/admin/login");return}m()},[]);let m=async()=>{try{let e=localStorage.getItem("token"),s={headers:{Authorization:"Bearer ".concat(e)}},[t,l,r,n]=await Promise.all([c.Z.get("/api/products",s),c.Z.get("/api/categories",s),c.Z.get("/api/contact",s),c.Z.get("/api/catalogs",s)]);a({products:t.data.length,categories:l.data.length,messages:r.data.filter(e=>"new"===e.status).length,catalogs:n.data.length})}catch(e){console.error("Error fetching stats:",e)}finally{o(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-secondary",children:[(0,t.jsx)(d(),{children:(0,t.jsx)("title",{children:"Admin Dashboard - Komal Jewellery"})}),(0,t.jsx)("nav",{className:"bg-white border-b border-border",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("h1",{className:"text-xl font-bold font-playfair text-primary",children:"Admin Panel"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/admin/login")},className:"text-sm text-muted-foreground hover:text-primary","data-testid":"logout-button",children:"Logout"})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold font-playfair mb-8",children:"Dashboard"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12","data-testid":"stats-grid",children:[(0,t.jsxs)("div",{className:"bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDC8E"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Products"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:s.products})]}),(0,t.jsxs)("div",{className:"bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCA"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Categories"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:s.categories})]}),(0,t.jsxs)("div",{className:"bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"✉️"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"New Messages"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:s.messages})]}),(0,t.jsxs)("div",{className:"bg-white p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCDA"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Catalogs"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:s.catalogs})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6","data-testid":"menu-grid",children:[{name:"Products",href:"/admin/products",icon:"\uD83D\uDC8E"},{name:"Categories",href:"/admin/categories",icon:"\uD83D\uDCCA"},{name:"Catalogs",href:"/admin/catalogs",icon:"\uD83D\uDCDA"},{name:"Messages",href:"/admin/messages",icon:"✉️"},{name:"Homepage",href:"/admin/homepage",icon:"\uD83C\uDFE0"},{name:"Cloudinary Import",href:"/admin/cloudinary-import",icon:"☁️"}].map(e=>(0,t.jsxs)(i(),{href:e.href,className:"bg-white p-8 hover:shadow-lg transition-all duration-300 hover:-translate-y-1","data-testid":"menu-".concat(e.name.toLowerCase()),children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:e.icon}),(0,t.jsx)("h3",{className:"text-xl font-semibold font-playfair",children:e.name})]},e.name))})]})]})}},1163:function(e,s,a){e.exports=a(3079)}},function(e){e.O(0,[703,664,888,774,179],function(){return e(e.s=2833)}),_N_E=e.O()}]);