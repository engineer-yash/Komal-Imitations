(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{6863:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return t(316)}])},316:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return o}});var n=t(5893),s=t(7294),i=t(1163),r=t(9008),l=t.n(r),d=t(7066);function o(){let e=(0,i.useRouter)(),[a,t]=(0,s.useState)({email:"",password:""}),[r,o]=(0,s.useState)(""),[u,c]=(0,s.useState)(!1),m=async t=>{t.preventDefault(),c(!0),o("");try{let t=await d.Z.post("/api/auth/login",a);localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),e.push("/admin/dashboard")}catch(e){var n,s;o((null===(s=e.response)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.message)||"Login failed")}finally{c(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-secondary",children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"Admin Login - Komal Jewellery"})}),(0,n.jsxs)("div",{className:"max-w-md w-full bg-white p-8 shadow-lg","data-testid":"admin-login-page",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold font-playfair text-center mb-8",children:"Admin Login"}),(0,n.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Email"}),(0,n.jsx)("input",{type:"email",value:a.email,onChange:e=>t({...a,email:e.target.value}),required:!0,className:"w-full bg-secondary border border-transparent focus:border-primary focus:ring-2 focus:ring-primary rounded-sm px-4 py-3 outline-none","data-testid":"admin-email-input"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",value:a.password,onChange:e=>t({...a,password:e.target.value}),required:!0,className:"w-full bg-secondary border border-transparent focus:border-primary focus:ring-2 focus:ring-primary rounded-sm px-4 py-3 outline-none","data-testid":"admin-password-input"})]}),r&&(0,n.jsx)("div",{className:"p-4 bg-red-50 text-red-800 rounded-sm text-sm","data-testid":"login-error",children:r}),(0,n.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-primary text-white hover:bg-[#B5952F] rounded-full px-8 py-3 transition-all duration-300 disabled:opacity-50","data-testid":"admin-login-button",children:u?"Logging in...":"Login"})]})]})]})}},1163:function(e,a,t){e.exports=t(3079)}},function(e){e.O(0,[703,888,774,179],function(){return e(e.s=6863)}),_N_E=e.O()}]);